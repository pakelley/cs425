

<style>

    .legend-box {
      cursor: pointer;
    }
    
</style>

<div id="fig_el41842967848963136773141"></div>
<script>
function mpld3_load_lib(url, callback){
  var s = document.createElement('script');
  s.src = url;
  s.async = true;
  s.onreadystatechange = s.onload = callback;
  s.onerror = function(){console.warn("failed to load library " + url);};
  document.getElementsByTagName("head")[0].appendChild(s);
}

if(typeof(mpld3) !== "undefined" && mpld3._mpld3IsLoaded){
   // already loaded: just create the figure
   !function(mpld3){
       
    mpld3.register_plugin("interactive_legend", InteractiveLegend);
    InteractiveLegend.prototype = Object.create(mpld3.Plugin.prototype);
    InteractiveLegend.prototype.constructor = InteractiveLegend;
    InteractiveLegend.prototype.requiredProps = ["element_ids", "labels"];
    InteractiveLegend.prototype.defaultProps = {"ax":null,
                                                "alpha_unsel":0.2,
                                                "alpha_over":1.0,
                                                "start_visible":true}
    function InteractiveLegend(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };

    InteractiveLegend.prototype.draw = function(){
        var alpha_unsel = this.props.alpha_unsel;
        var alpha_over = this.props.alpha_over;

        var legendItems = new Array();
        for(var i=0; i<this.props.labels.length; i++){
            var obj = {};
            obj.label = this.props.labels[i];

            var element_id = this.props.element_ids[i];
            mpld3_elements = [];
            for(var j=0; j<element_id.length; j++){
                var mpld3_element = mpld3.get_element(element_id[j], this.fig);

                // mpld3_element might be null in case of Line2D instances
                // for we pass the id for both the line and the markers. Either
                // one might not exist on the D3 side
                if(mpld3_element){
                    mpld3_elements.push(mpld3_element);
                }
            }

            obj.mpld3_elements = mpld3_elements;
            obj.visible = this.props.start_visible[i]; // should become be setable from python side
            legendItems.push(obj);
            set_alphas(obj, false);
        }

        // determine the axes with which this legend is associated
        var ax = this.props.ax
        if(!ax){
            ax = this.fig.axes[0];
        } else{
            ax = mpld3.get_element(ax, this.fig);
        }

        // add a legend group to the canvas of the figure
        var legend = this.fig.canvas.append("svg:g")
                               .attr("class", "legend");

        // add the rectangles
        legend.selectAll("rect")
                .data(legendItems)
                .enter().append("rect")
                .attr("height", 10)
                .attr("width", 25)
                .attr("x", ax.width + ax.position[0] + 25)
                .attr("y",function(d,i) {
                           return ax.position[1] + i * 25 + 10;})
                .attr("stroke", get_color)
                .attr("class", "legend-box")
                .style("fill", function(d, i) {
                           return d.visible ? get_color(d) : "white";})
                .on("click", click).on('mouseover', over).on('mouseout', out);

        // add the labels
        legend.selectAll("text")
              .data(legendItems)
              .enter().append("text")
              .attr("x", function (d) {
                           return ax.width + ax.position[0] + 25 + 40;})
              .attr("y", function(d,i) {
                           return ax.position[1] + i * 25 + 10 + 10 - 1;})
              .text(function(d) { return d.label });


        // specify the action on click
        function click(d,i){
            d.visible = !d.visible;
            d3.select(this)
              .style("fill",function(d, i) {
                return d.visible ? get_color(d) : "white";
              })
            set_alphas(d, false);

        };

        // specify the action on legend overlay 
        function over(d,i){
             set_alphas(d, true);
        };

        // specify the action on legend overlay 
        function out(d,i){
             set_alphas(d, false);
        };

        // helper function for setting alphas
        function set_alphas(d, is_over){
            for(var i=0; i<d.mpld3_elements.length; i++){
                var type = d.mpld3_elements[i].constructor.name;

                if(type =="mpld3_Line"){
                    var current_alpha = d.mpld3_elements[i].props.alpha;
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.select(d.mpld3_elements[i].path[0][0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("stroke-width", is_over ? 
                                alpha_over * d.mpld3_elements[i].props.edgewidth : d.mpld3_elements[i].props.edgewidth);
                } else if((type=="mpld3_PathCollection")||
                         (type=="mpld3_Markers")){
                    var current_alpha = d.mpld3_elements[i].props.alphas[0];
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.selectAll(d.mpld3_elements[i].pathsobj[0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("fill-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel));
                } else{
                    console.log(type + " not yet supported");
                }
            }
        };


        // helper function for determining the color of the rectangles
        function get_color(d){
            var type = d.mpld3_elements[0].constructor.name;
            var color = "black";
            if(type =="mpld3_Line"){
                color = d.mpld3_elements[0].props.edgecolor;
            } else if((type=="mpld3_PathCollection")||
                      (type=="mpld3_Markers")){
                color = d.mpld3_elements[0].props.facecolors[0];
            } else{
                console.log(type + " not yet supported");
            }
            return color;
        };
    };
    
       mpld3.draw_figure("fig_el41842967848963136773141", {"axes": [{"xlim": [-1.25, 48.25], "yscale": "linear", "axesbg": "#FFFFFF", "texts": [{"v_baseline": "hanging", "h_anchor": "middle", "color": "#000000", "text": "Time Segment", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 10.0, "position": [0.5, -0.06438557763061073], "rotation": -0.0, "id": "el4184318754712"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#000000", "text": "Confidence Level", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 10.0, "position": [-0.03968253968253965, 0.5], "rotation": -90.0, "id": "el4184318753424"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#000000", "text": "Turbine Error Modes", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 24.0, "position": [0.5, 1.0183958793230317], "rotation": -0.0, "id": "el4184315866304"}], "zoomable": true, "images": [], "xdomain": [-1.25, 48.25], "ylim": [0.1307231885493329, 0.8826501048499834], "paths": [], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "bottom", "nticks": 7, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "left", "nticks": 9, "tickvalues": null}], "lines": [{"drawstyle": "default", "color": "#1F77B4", "yindex": 1, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478016"}, {"drawstyle": "default", "color": "#FF7F0E", "yindex": 2, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478408"}, {"drawstyle": "default", "color": "#2CA02C", "yindex": 3, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478688"}, {"drawstyle": "default", "color": "#D62728", "yindex": 4, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478968"}], "markers": [], "id": "el4184324757040", "ydomain": [0.1307231885493329, 0.8826501048499834], "collections": [], "xscale": "linear", "bbox": [0.125, 0.125, 0.675, 0.755]}], "height": 432.0, "width": 1008.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}, {"alpha_over": 1.0, "element_ids": [["el4184327478016", "el4184327478016pts"], ["el4184327478408", "el4184327478408pts"], ["el4184327478688", "el4184327478688pts"], ["el4184327478968", "el4184327478968pts"]], "labels": ["Preload", "Weight Unbalance", "Bearing Rub", "Safe"], "alpha_unsel": 0.2, "ax": null, "start_visible": [true, true, true, true], "type": "interactive_legend"}], "data": {"data01": [[1.0, 0.6260439062152977, 0.6675304091393786, 0.47577792090372195, 0.5131701008083555], [2.0, 0.4097398718230236, 0.6715903427706773, 0.41188625317911387, 0.8423609827542687], [3.0, 0.5236301677396059, 0.5732594422902266, 0.46763790898802127, 0.3721518913658709], [4.0, 0.528970024523582, 0.20735558134868448, 0.47542847220857354, 0.2456298936743833], [5.0, 0.5735238299864011, 0.2974664148782855, 0.7082141179454444, 0.1809169971623319], [6.0, 0.3980822478902807, 0.5813189717872238, 0.2988426488035022, 0.409253593024815], [7.0, 0.4340410619417223, 0.4547554663286201, 0.6508253403073561, 0.5963861498929967], [8.0, 0.6824229502016216, 0.49660685488640477, 0.6677025036474719, 0.5086505867072343], [9.0, 0.5666298616039442, 0.4022806557678763, 0.5689871337418555, 0.5857458131608964], [10.0, 0.6225617954991456, 0.7218489732516675, 0.195169618011434, 0.676195973972565], [11.0, 0.6507343413669769, 0.3748743741981836, 0.512125998304225, 0.37615576670165674], [12.0, 0.5435954661590947, 0.6188676616027131, 0.5538742139421876, 0.2673713690588774], [13.0, 0.1875205610597733, 0.49058049800825865, 0.4636811420410528, 0.38954398907284205], [14.0, 0.53716410215561, 0.6040270548491965, 0.46821227380791863, 0.6510927318458424], [15.0, 0.5063443072649413, 0.5432214015403611, 0.3566321751796706, 0.3600723674226789], [16.0, 0.6227220750665419, 0.4375778648172072, 0.585533224152128, 0.3348005808135159], [17.0, 0.3817232656374362, 0.48888762979475686, 0.5593978134092747, 0.6711480637719143], [18.0, 0.47994761474584013, 0.6894642895387433, 0.6154639112684431, 0.578803488459879], [19.0, 0.5809772706020303, 0.6163898196054509, 0.5464920574319614, 0.35078833717783375], [20.0, 0.40822427122281013, 0.22265835658962402, 0.6089168411108669, 0.2931963249378433], [21.0, 0.21820324437344996, 0.41613689092917877, 0.42462550341172123, 0.6407942885687679], [22.0, 0.5019035492413093, 0.40181430148456476, 0.5529652280599815, 0.16490168474481703], [23.0, 0.4442927098051404, 0.5003663336203483, 0.549206689484854, 0.6234337441871636], [24.0, 0.8287342885871833, 0.685619033006862, 0.5874139079307513, 0.4137486378527332], [25.0, 0.5159296187810882, 0.6282557939658673, 0.23196747500557965, 0.43191544060961384], [26.0, 0.48832170295045885, 0.417117348482966, 0.16577069794561086, 0.4650081447448065], [27.0, 0.6318269099284126, 0.44527126708469483, 0.4388416974682038, 0.3773108660609523], [28.0, 0.34848088674201033, 0.5325217303817796, 0.7409541536996769, 0.46761114907500195], [29.0, 0.545149226567629, 0.36206693887254404, 0.588128539641954, 0.7139849921891358], [30.0, 0.6026422806917758, 0.5612124742824934, 0.7215728962948615, 0.6124096379078403], [31.0, 0.516678734170094, 0.4626325207416428, 0.340516152851288, 0.5441888613630511], [32.0, 0.33824374136948415, 0.5362606696350779, 0.4350825857289029, 0.41340692294083037], [33.0, 0.37414584247847993, 0.41939782919352253, 0.46484984585305805, 0.8055528641237698], [34.0, 0.32289226544663485, 0.506869232498901, 0.3766031317648137, 0.4989787120898699], [35.0, 0.5355931639324032, 0.3202726200569532, 0.7011434194708833, 0.47219202214602873], [36.0, 0.5315540755377459, 0.6033076350317625, 0.8484716086544993, 0.5327886348872888], [37.0, 0.2695599479817581, 0.6756384726547131, 0.41653940218032837, 0.48559225471198], [38.0, 0.4541697824106144, 0.4513058455073221, 0.41176004551198564, 0.5697775199817052], [39.0, 0.6069815834895671, 0.4704875380231565, 0.3970408215349661, 0.6233002419311969], [40.0, 0.46533144867395726, 0.4166199121190054, 0.5474940636214851, 0.6610722947559153], [41.0, 0.5830262999414209, 0.3374810394577157, 0.7564296062972912, 0.42404512564324626], [42.0, 0.5029717166127241, 0.502989489510044, 0.4112297373598719, 0.5069231645335001], [43.0, 0.4640070512848032, 0.3835790785788343, 0.41651291767985005, 0.6076243349851898], [44.0, 0.5144604943974803, 0.18738212212201685, 0.4975082091904939, 0.3305944744281172], [45.0, 0.37336026605822725, 0.48523347376548487, 0.23249228224529897, 0.4017269025737946], [46.0, 0.5669461812641139, 0.6077583570327395, 0.42919269834792795, 0.735292287136971]]}, "id": "el4184296784896"});
   }(mpld3);
}else if(typeof define === "function" && define.amd){
   // require.js is available: use it to load d3/mpld3
   require.config({paths: {d3: "https://mpld3.github.io/js/d3.v3.min"}});
   require(["d3"], function(d3){
      window.d3 = d3;
      mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.3.js", function(){
         
    mpld3.register_plugin("interactive_legend", InteractiveLegend);
    InteractiveLegend.prototype = Object.create(mpld3.Plugin.prototype);
    InteractiveLegend.prototype.constructor = InteractiveLegend;
    InteractiveLegend.prototype.requiredProps = ["element_ids", "labels"];
    InteractiveLegend.prototype.defaultProps = {"ax":null,
                                                "alpha_unsel":0.2,
                                                "alpha_over":1.0,
                                                "start_visible":true}
    function InteractiveLegend(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };

    InteractiveLegend.prototype.draw = function(){
        var alpha_unsel = this.props.alpha_unsel;
        var alpha_over = this.props.alpha_over;

        var legendItems = new Array();
        for(var i=0; i<this.props.labels.length; i++){
            var obj = {};
            obj.label = this.props.labels[i];

            var element_id = this.props.element_ids[i];
            mpld3_elements = [];
            for(var j=0; j<element_id.length; j++){
                var mpld3_element = mpld3.get_element(element_id[j], this.fig);

                // mpld3_element might be null in case of Line2D instances
                // for we pass the id for both the line and the markers. Either
                // one might not exist on the D3 side
                if(mpld3_element){
                    mpld3_elements.push(mpld3_element);
                }
            }

            obj.mpld3_elements = mpld3_elements;
            obj.visible = this.props.start_visible[i]; // should become be setable from python side
            legendItems.push(obj);
            set_alphas(obj, false);
        }

        // determine the axes with which this legend is associated
        var ax = this.props.ax
        if(!ax){
            ax = this.fig.axes[0];
        } else{
            ax = mpld3.get_element(ax, this.fig);
        }

        // add a legend group to the canvas of the figure
        var legend = this.fig.canvas.append("svg:g")
                               .attr("class", "legend");

        // add the rectangles
        legend.selectAll("rect")
                .data(legendItems)
                .enter().append("rect")
                .attr("height", 10)
                .attr("width", 25)
                .attr("x", ax.width + ax.position[0] + 25)
                .attr("y",function(d,i) {
                           return ax.position[1] + i * 25 + 10;})
                .attr("stroke", get_color)
                .attr("class", "legend-box")
                .style("fill", function(d, i) {
                           return d.visible ? get_color(d) : "white";})
                .on("click", click).on('mouseover', over).on('mouseout', out);

        // add the labels
        legend.selectAll("text")
              .data(legendItems)
              .enter().append("text")
              .attr("x", function (d) {
                           return ax.width + ax.position[0] + 25 + 40;})
              .attr("y", function(d,i) {
                           return ax.position[1] + i * 25 + 10 + 10 - 1;})
              .text(function(d) { return d.label });


        // specify the action on click
        function click(d,i){
            d.visible = !d.visible;
            d3.select(this)
              .style("fill",function(d, i) {
                return d.visible ? get_color(d) : "white";
              })
            set_alphas(d, false);

        };

        // specify the action on legend overlay 
        function over(d,i){
             set_alphas(d, true);
        };

        // specify the action on legend overlay 
        function out(d,i){
             set_alphas(d, false);
        };

        // helper function for setting alphas
        function set_alphas(d, is_over){
            for(var i=0; i<d.mpld3_elements.length; i++){
                var type = d.mpld3_elements[i].constructor.name;

                if(type =="mpld3_Line"){
                    var current_alpha = d.mpld3_elements[i].props.alpha;
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.select(d.mpld3_elements[i].path[0][0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("stroke-width", is_over ? 
                                alpha_over * d.mpld3_elements[i].props.edgewidth : d.mpld3_elements[i].props.edgewidth);
                } else if((type=="mpld3_PathCollection")||
                         (type=="mpld3_Markers")){
                    var current_alpha = d.mpld3_elements[i].props.alphas[0];
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.selectAll(d.mpld3_elements[i].pathsobj[0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("fill-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel));
                } else{
                    console.log(type + " not yet supported");
                }
            }
        };


        // helper function for determining the color of the rectangles
        function get_color(d){
            var type = d.mpld3_elements[0].constructor.name;
            var color = "black";
            if(type =="mpld3_Line"){
                color = d.mpld3_elements[0].props.edgecolor;
            } else if((type=="mpld3_PathCollection")||
                      (type=="mpld3_Markers")){
                color = d.mpld3_elements[0].props.facecolors[0];
            } else{
                console.log(type + " not yet supported");
            }
            return color;
        };
    };
    
         mpld3.draw_figure("fig_el41842967848963136773141", {"axes": [{"xlim": [-1.25, 48.25], "yscale": "linear", "axesbg": "#FFFFFF", "texts": [{"v_baseline": "hanging", "h_anchor": "middle", "color": "#000000", "text": "Time Segment", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 10.0, "position": [0.5, -0.06438557763061073], "rotation": -0.0, "id": "el4184318754712"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#000000", "text": "Confidence Level", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 10.0, "position": [-0.03968253968253965, 0.5], "rotation": -90.0, "id": "el4184318753424"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#000000", "text": "Turbine Error Modes", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 24.0, "position": [0.5, 1.0183958793230317], "rotation": -0.0, "id": "el4184315866304"}], "zoomable": true, "images": [], "xdomain": [-1.25, 48.25], "ylim": [0.1307231885493329, 0.8826501048499834], "paths": [], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "bottom", "nticks": 7, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "left", "nticks": 9, "tickvalues": null}], "lines": [{"drawstyle": "default", "color": "#1F77B4", "yindex": 1, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478016"}, {"drawstyle": "default", "color": "#FF7F0E", "yindex": 2, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478408"}, {"drawstyle": "default", "color": "#2CA02C", "yindex": 3, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478688"}, {"drawstyle": "default", "color": "#D62728", "yindex": 4, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478968"}], "markers": [], "id": "el4184324757040", "ydomain": [0.1307231885493329, 0.8826501048499834], "collections": [], "xscale": "linear", "bbox": [0.125, 0.125, 0.675, 0.755]}], "height": 432.0, "width": 1008.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}, {"alpha_over": 1.0, "element_ids": [["el4184327478016", "el4184327478016pts"], ["el4184327478408", "el4184327478408pts"], ["el4184327478688", "el4184327478688pts"], ["el4184327478968", "el4184327478968pts"]], "labels": ["Preload", "Weight Unbalance", "Bearing Rub", "Safe"], "alpha_unsel": 0.2, "ax": null, "start_visible": [true, true, true, true], "type": "interactive_legend"}], "data": {"data01": [[1.0, 0.6260439062152977, 0.6675304091393786, 0.47577792090372195, 0.5131701008083555], [2.0, 0.4097398718230236, 0.6715903427706773, 0.41188625317911387, 0.8423609827542687], [3.0, 0.5236301677396059, 0.5732594422902266, 0.46763790898802127, 0.3721518913658709], [4.0, 0.528970024523582, 0.20735558134868448, 0.47542847220857354, 0.2456298936743833], [5.0, 0.5735238299864011, 0.2974664148782855, 0.7082141179454444, 0.1809169971623319], [6.0, 0.3980822478902807, 0.5813189717872238, 0.2988426488035022, 0.409253593024815], [7.0, 0.4340410619417223, 0.4547554663286201, 0.6508253403073561, 0.5963861498929967], [8.0, 0.6824229502016216, 0.49660685488640477, 0.6677025036474719, 0.5086505867072343], [9.0, 0.5666298616039442, 0.4022806557678763, 0.5689871337418555, 0.5857458131608964], [10.0, 0.6225617954991456, 0.7218489732516675, 0.195169618011434, 0.676195973972565], [11.0, 0.6507343413669769, 0.3748743741981836, 0.512125998304225, 0.37615576670165674], [12.0, 0.5435954661590947, 0.6188676616027131, 0.5538742139421876, 0.2673713690588774], [13.0, 0.1875205610597733, 0.49058049800825865, 0.4636811420410528, 0.38954398907284205], [14.0, 0.53716410215561, 0.6040270548491965, 0.46821227380791863, 0.6510927318458424], [15.0, 0.5063443072649413, 0.5432214015403611, 0.3566321751796706, 0.3600723674226789], [16.0, 0.6227220750665419, 0.4375778648172072, 0.585533224152128, 0.3348005808135159], [17.0, 0.3817232656374362, 0.48888762979475686, 0.5593978134092747, 0.6711480637719143], [18.0, 0.47994761474584013, 0.6894642895387433, 0.6154639112684431, 0.578803488459879], [19.0, 0.5809772706020303, 0.6163898196054509, 0.5464920574319614, 0.35078833717783375], [20.0, 0.40822427122281013, 0.22265835658962402, 0.6089168411108669, 0.2931963249378433], [21.0, 0.21820324437344996, 0.41613689092917877, 0.42462550341172123, 0.6407942885687679], [22.0, 0.5019035492413093, 0.40181430148456476, 0.5529652280599815, 0.16490168474481703], [23.0, 0.4442927098051404, 0.5003663336203483, 0.549206689484854, 0.6234337441871636], [24.0, 0.8287342885871833, 0.685619033006862, 0.5874139079307513, 0.4137486378527332], [25.0, 0.5159296187810882, 0.6282557939658673, 0.23196747500557965, 0.43191544060961384], [26.0, 0.48832170295045885, 0.417117348482966, 0.16577069794561086, 0.4650081447448065], [27.0, 0.6318269099284126, 0.44527126708469483, 0.4388416974682038, 0.3773108660609523], [28.0, 0.34848088674201033, 0.5325217303817796, 0.7409541536996769, 0.46761114907500195], [29.0, 0.545149226567629, 0.36206693887254404, 0.588128539641954, 0.7139849921891358], [30.0, 0.6026422806917758, 0.5612124742824934, 0.7215728962948615, 0.6124096379078403], [31.0, 0.516678734170094, 0.4626325207416428, 0.340516152851288, 0.5441888613630511], [32.0, 0.33824374136948415, 0.5362606696350779, 0.4350825857289029, 0.41340692294083037], [33.0, 0.37414584247847993, 0.41939782919352253, 0.46484984585305805, 0.8055528641237698], [34.0, 0.32289226544663485, 0.506869232498901, 0.3766031317648137, 0.4989787120898699], [35.0, 0.5355931639324032, 0.3202726200569532, 0.7011434194708833, 0.47219202214602873], [36.0, 0.5315540755377459, 0.6033076350317625, 0.8484716086544993, 0.5327886348872888], [37.0, 0.2695599479817581, 0.6756384726547131, 0.41653940218032837, 0.48559225471198], [38.0, 0.4541697824106144, 0.4513058455073221, 0.41176004551198564, 0.5697775199817052], [39.0, 0.6069815834895671, 0.4704875380231565, 0.3970408215349661, 0.6233002419311969], [40.0, 0.46533144867395726, 0.4166199121190054, 0.5474940636214851, 0.6610722947559153], [41.0, 0.5830262999414209, 0.3374810394577157, 0.7564296062972912, 0.42404512564324626], [42.0, 0.5029717166127241, 0.502989489510044, 0.4112297373598719, 0.5069231645335001], [43.0, 0.4640070512848032, 0.3835790785788343, 0.41651291767985005, 0.6076243349851898], [44.0, 0.5144604943974803, 0.18738212212201685, 0.4975082091904939, 0.3305944744281172], [45.0, 0.37336026605822725, 0.48523347376548487, 0.23249228224529897, 0.4017269025737946], [46.0, 0.5669461812641139, 0.6077583570327395, 0.42919269834792795, 0.735292287136971]]}, "id": "el4184296784896"});
      });
    });
}else{
    // require.js not available: dynamically load d3 & mpld3
    mpld3_load_lib("https://mpld3.github.io/js/d3.v3.min.js", function(){
         mpld3_load_lib("https://mpld3.github.io/js/mpld3.v0.3.js", function(){
                 
    mpld3.register_plugin("interactive_legend", InteractiveLegend);
    InteractiveLegend.prototype = Object.create(mpld3.Plugin.prototype);
    InteractiveLegend.prototype.constructor = InteractiveLegend;
    InteractiveLegend.prototype.requiredProps = ["element_ids", "labels"];
    InteractiveLegend.prototype.defaultProps = {"ax":null,
                                                "alpha_unsel":0.2,
                                                "alpha_over":1.0,
                                                "start_visible":true}
    function InteractiveLegend(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };

    InteractiveLegend.prototype.draw = function(){
        var alpha_unsel = this.props.alpha_unsel;
        var alpha_over = this.props.alpha_over;

        var legendItems = new Array();
        for(var i=0; i<this.props.labels.length; i++){
            var obj = {};
            obj.label = this.props.labels[i];

            var element_id = this.props.element_ids[i];
            mpld3_elements = [];
            for(var j=0; j<element_id.length; j++){
                var mpld3_element = mpld3.get_element(element_id[j], this.fig);

                // mpld3_element might be null in case of Line2D instances
                // for we pass the id for both the line and the markers. Either
                // one might not exist on the D3 side
                if(mpld3_element){
                    mpld3_elements.push(mpld3_element);
                }
            }

            obj.mpld3_elements = mpld3_elements;
            obj.visible = this.props.start_visible[i]; // should become be setable from python side
            legendItems.push(obj);
            set_alphas(obj, false);
        }

        // determine the axes with which this legend is associated
        var ax = this.props.ax
        if(!ax){
            ax = this.fig.axes[0];
        } else{
            ax = mpld3.get_element(ax, this.fig);
        }

        // add a legend group to the canvas of the figure
        var legend = this.fig.canvas.append("svg:g")
                               .attr("class", "legend");

        // add the rectangles
        legend.selectAll("rect")
                .data(legendItems)
                .enter().append("rect")
                .attr("height", 10)
                .attr("width", 25)
                .attr("x", ax.width + ax.position[0] + 25)
                .attr("y",function(d,i) {
                           return ax.position[1] + i * 25 + 10;})
                .attr("stroke", get_color)
                .attr("class", "legend-box")
                .style("fill", function(d, i) {
                           return d.visible ? get_color(d) : "white";})
                .on("click", click).on('mouseover', over).on('mouseout', out);

        // add the labels
        legend.selectAll("text")
              .data(legendItems)
              .enter().append("text")
              .attr("x", function (d) {
                           return ax.width + ax.position[0] + 25 + 40;})
              .attr("y", function(d,i) {
                           return ax.position[1] + i * 25 + 10 + 10 - 1;})
              .text(function(d) { return d.label });


        // specify the action on click
        function click(d,i){
            d.visible = !d.visible;
            d3.select(this)
              .style("fill",function(d, i) {
                return d.visible ? get_color(d) : "white";
              })
            set_alphas(d, false);

        };

        // specify the action on legend overlay 
        function over(d,i){
             set_alphas(d, true);
        };

        // specify the action on legend overlay 
        function out(d,i){
             set_alphas(d, false);
        };

        // helper function for setting alphas
        function set_alphas(d, is_over){
            for(var i=0; i<d.mpld3_elements.length; i++){
                var type = d.mpld3_elements[i].constructor.name;

                if(type =="mpld3_Line"){
                    var current_alpha = d.mpld3_elements[i].props.alpha;
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.select(d.mpld3_elements[i].path[0][0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("stroke-width", is_over ? 
                                alpha_over * d.mpld3_elements[i].props.edgewidth : d.mpld3_elements[i].props.edgewidth);
                } else if((type=="mpld3_PathCollection")||
                         (type=="mpld3_Markers")){
                    var current_alpha = d.mpld3_elements[i].props.alphas[0];
                    var current_alpha_unsel = current_alpha * alpha_unsel;
                    var current_alpha_over = current_alpha * alpha_over;
                    d3.selectAll(d.mpld3_elements[i].pathsobj[0])
                        .style("stroke-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel))
                        .style("fill-opacity", is_over ? current_alpha_over :
                                                (d.visible ? current_alpha : current_alpha_unsel));
                } else{
                    console.log(type + " not yet supported");
                }
            }
        };


        // helper function for determining the color of the rectangles
        function get_color(d){
            var type = d.mpld3_elements[0].constructor.name;
            var color = "black";
            if(type =="mpld3_Line"){
                color = d.mpld3_elements[0].props.edgecolor;
            } else if((type=="mpld3_PathCollection")||
                      (type=="mpld3_Markers")){
                color = d.mpld3_elements[0].props.facecolors[0];
            } else{
                console.log(type + " not yet supported");
            }
            return color;
        };
    };
    
                 mpld3.draw_figure("fig_el41842967848963136773141", {"axes": [{"xlim": [-1.25, 48.25], "yscale": "linear", "axesbg": "#FFFFFF", "texts": [{"v_baseline": "hanging", "h_anchor": "middle", "color": "#000000", "text": "Time Segment", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 10.0, "position": [0.5, -0.06438557763061073], "rotation": -0.0, "id": "el4184318754712"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#000000", "text": "Confidence Level", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 10.0, "position": [-0.03968253968253965, 0.5], "rotation": -90.0, "id": "el4184318753424"}, {"v_baseline": "auto", "h_anchor": "middle", "color": "#000000", "text": "Turbine Error Modes", "coordinates": "axes", "zorder": 3, "alpha": 1, "fontsize": 24.0, "position": [0.5, 1.0183958793230317], "rotation": -0.0, "id": "el4184315866304"}], "zoomable": true, "images": [], "xdomain": [-1.25, 48.25], "ylim": [0.1307231885493329, 0.8826501048499834], "paths": [], "sharey": [], "sharex": [], "axesbgalpha": null, "axes": [{"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "bottom", "nticks": 7, "tickvalues": null}, {"scale": "linear", "tickformat": null, "grid": {"gridOn": false}, "visible": true, "fontsize": 10.0, "position": "left", "nticks": 9, "tickvalues": null}], "lines": [{"drawstyle": "default", "color": "#1F77B4", "yindex": 1, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478016"}, {"drawstyle": "default", "color": "#FF7F0E", "yindex": 2, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478408"}, {"drawstyle": "default", "color": "#2CA02C", "yindex": 3, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478688"}, {"drawstyle": "default", "color": "#D62728", "yindex": 4, "coordinates": "data", "dasharray": "none", "zorder": 2, "alpha": 0.2, "xindex": 0, "linewidth": 4.0, "data": "data01", "id": "el4184327478968"}], "markers": [], "id": "el4184324757040", "ydomain": [0.1307231885493329, 0.8826501048499834], "collections": [], "xscale": "linear", "bbox": [0.125, 0.125, 0.675, 0.755]}], "height": 432.0, "width": 1008.0, "plugins": [{"type": "reset"}, {"enabled": false, "button": true, "type": "zoom"}, {"enabled": false, "button": true, "type": "boxzoom"}, {"alpha_over": 1.0, "element_ids": [["el4184327478016", "el4184327478016pts"], ["el4184327478408", "el4184327478408pts"], ["el4184327478688", "el4184327478688pts"], ["el4184327478968", "el4184327478968pts"]], "labels": ["Preload", "Weight Unbalance", "Bearing Rub", "Safe"], "alpha_unsel": 0.2, "ax": null, "start_visible": [true, true, true, true], "type": "interactive_legend"}], "data": {"data01": [[1.0, 0.6260439062152977, 0.6675304091393786, 0.47577792090372195, 0.5131701008083555], [2.0, 0.4097398718230236, 0.6715903427706773, 0.41188625317911387, 0.8423609827542687], [3.0, 0.5236301677396059, 0.5732594422902266, 0.46763790898802127, 0.3721518913658709], [4.0, 0.528970024523582, 0.20735558134868448, 0.47542847220857354, 0.2456298936743833], [5.0, 0.5735238299864011, 0.2974664148782855, 0.7082141179454444, 0.1809169971623319], [6.0, 0.3980822478902807, 0.5813189717872238, 0.2988426488035022, 0.409253593024815], [7.0, 0.4340410619417223, 0.4547554663286201, 0.6508253403073561, 0.5963861498929967], [8.0, 0.6824229502016216, 0.49660685488640477, 0.6677025036474719, 0.5086505867072343], [9.0, 0.5666298616039442, 0.4022806557678763, 0.5689871337418555, 0.5857458131608964], [10.0, 0.6225617954991456, 0.7218489732516675, 0.195169618011434, 0.676195973972565], [11.0, 0.6507343413669769, 0.3748743741981836, 0.512125998304225, 0.37615576670165674], [12.0, 0.5435954661590947, 0.6188676616027131, 0.5538742139421876, 0.2673713690588774], [13.0, 0.1875205610597733, 0.49058049800825865, 0.4636811420410528, 0.38954398907284205], [14.0, 0.53716410215561, 0.6040270548491965, 0.46821227380791863, 0.6510927318458424], [15.0, 0.5063443072649413, 0.5432214015403611, 0.3566321751796706, 0.3600723674226789], [16.0, 0.6227220750665419, 0.4375778648172072, 0.585533224152128, 0.3348005808135159], [17.0, 0.3817232656374362, 0.48888762979475686, 0.5593978134092747, 0.6711480637719143], [18.0, 0.47994761474584013, 0.6894642895387433, 0.6154639112684431, 0.578803488459879], [19.0, 0.5809772706020303, 0.6163898196054509, 0.5464920574319614, 0.35078833717783375], [20.0, 0.40822427122281013, 0.22265835658962402, 0.6089168411108669, 0.2931963249378433], [21.0, 0.21820324437344996, 0.41613689092917877, 0.42462550341172123, 0.6407942885687679], [22.0, 0.5019035492413093, 0.40181430148456476, 0.5529652280599815, 0.16490168474481703], [23.0, 0.4442927098051404, 0.5003663336203483, 0.549206689484854, 0.6234337441871636], [24.0, 0.8287342885871833, 0.685619033006862, 0.5874139079307513, 0.4137486378527332], [25.0, 0.5159296187810882, 0.6282557939658673, 0.23196747500557965, 0.43191544060961384], [26.0, 0.48832170295045885, 0.417117348482966, 0.16577069794561086, 0.4650081447448065], [27.0, 0.6318269099284126, 0.44527126708469483, 0.4388416974682038, 0.3773108660609523], [28.0, 0.34848088674201033, 0.5325217303817796, 0.7409541536996769, 0.46761114907500195], [29.0, 0.545149226567629, 0.36206693887254404, 0.588128539641954, 0.7139849921891358], [30.0, 0.6026422806917758, 0.5612124742824934, 0.7215728962948615, 0.6124096379078403], [31.0, 0.516678734170094, 0.4626325207416428, 0.340516152851288, 0.5441888613630511], [32.0, 0.33824374136948415, 0.5362606696350779, 0.4350825857289029, 0.41340692294083037], [33.0, 0.37414584247847993, 0.41939782919352253, 0.46484984585305805, 0.8055528641237698], [34.0, 0.32289226544663485, 0.506869232498901, 0.3766031317648137, 0.4989787120898699], [35.0, 0.5355931639324032, 0.3202726200569532, 0.7011434194708833, 0.47219202214602873], [36.0, 0.5315540755377459, 0.6033076350317625, 0.8484716086544993, 0.5327886348872888], [37.0, 0.2695599479817581, 0.6756384726547131, 0.41653940218032837, 0.48559225471198], [38.0, 0.4541697824106144, 0.4513058455073221, 0.41176004551198564, 0.5697775199817052], [39.0, 0.6069815834895671, 0.4704875380231565, 0.3970408215349661, 0.6233002419311969], [40.0, 0.46533144867395726, 0.4166199121190054, 0.5474940636214851, 0.6610722947559153], [41.0, 0.5830262999414209, 0.3374810394577157, 0.7564296062972912, 0.42404512564324626], [42.0, 0.5029717166127241, 0.502989489510044, 0.4112297373598719, 0.5069231645335001], [43.0, 0.4640070512848032, 0.3835790785788343, 0.41651291767985005, 0.6076243349851898], [44.0, 0.5144604943974803, 0.18738212212201685, 0.4975082091904939, 0.3305944744281172], [45.0, 0.37336026605822725, 0.48523347376548487, 0.23249228224529897, 0.4017269025737946], [46.0, 0.5669461812641139, 0.6077583570327395, 0.42919269834792795, 0.735292287136971]]}, "id": "el4184296784896"});
            })
         });
}
</script>